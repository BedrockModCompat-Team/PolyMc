<!--
  ~ PolyMc
  ~ Copyright (C) 2020-2020 TheEpicBlock_TEB
  ~
  ~ This program is free software; you can redistribute it and/or
  ~ modify it under the terms of the GNU Lesser General Public
  ~ License as published by the Free Software Foundation; either
  ~ version 3 of the License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  ~ Lesser General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Lesser General Public License
  ~ along with this program; If not, see <https://www.gnu.org/licenses>.
  -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Api | Resource packs</title>
    <meta property="og:site_name" content="PolyMc"/>
    <meta property="og:type" content="website"/>
    <meta property="og:title" content="Resource packs | PolyMc api"/>
    <meta property="og:url" content="https://theepicblock.github.io/PolyMc/api/resourcepacks.html"/>
    <meta property="og:description" content="The power of a modded server, without a modded client"/>
    <meta name="author" content="TheEpicBlock_TEB"/>
    <link rel="stylesheet" href="../assets/styles.css">
    <script src="../assets/load-links.js"></script>
</head>
<body>
<section class="title-section">
    <a href="../index.html"><h1 class="title">PolyMc</h1></a>
    <h2 class="subtitle">The power of a modded server, without a modded client</h2>
</section>
<section class="body">
    <div class="content">
        <h1>Resources and Resource packs</h1>
        <p>
            Resource packs are essential to PolyMc. That's why PolyMc includes a lot of helper methods for working with them.
        </p>
        <h2>Hooks</h2>
        <p>
            There are 2 places for your mod to add resources. There is the one included in all Polys. They are meant to register any content specific to that Poly. You can also register resources in the PolyMc entrypoint. It's meant for any resources that don't belong to any specific polyable.
        </p>
        <p>
            In both of those hooks you'll get passed on a ResourcePackMaker. That is the class where you'll be adding all your resources too.
            ResourcePackMaker
        </p>
        <p>
            The ResourcePackMaker has, in general, 3 types of methods. <code>getX</code>, <code>hasX</code> and <code>copyX</code>. <code>getX</code> provides a way to directly access a resource from a mod. This can be used to get the names of models from a blockstate file. To then use in the new blockstate file, for example.
            <code>hasX</code> can check if a resource exists. <code>copyX</code> gets the resource and pastes it directly into the new resource pack. There are subsets of these classes that provide extra utility. See the javadoc for each of these methods. Pay great attention to what value should be given as the path.
        </p>
<div class="c-block"><pre>
 getFile -----> getAsset

 +------> copyTexture
 |
 copyFile ----> copyAsset -------> copyModel -------> copyItemModel
 |
 |
 +---> importArtificePack

 copyFolder --> importAssetFolder

 checkFile ---> checkAsset
</pre></div>
        <div>An overview of classes in the <code>ResourcePackMaker</code>.</div>

        <h1>Pending system™</h1>
        <p>
            Sometimes a file needs to be appended to and edited by multiple locations.
            Take CustomModelData for example. Every CMD value that's used needs to be registered to the source item.
            That's why the pending system™ exists.
            It contains a list of objects representing json mapped to identifiers representing where that json should be.
            In the case of CMD, it would get the JsonModel from the pending system™ and add the CMD value to that.
            Then at the end of the resource pack generation it will save those to disk.
            You're not required to use the pending system.
            It should however always be used for minecraft classes.
        </p>
<div class="c-block"><pre>
 +------------------------------------------------------+
 |hasPendingModel                                       |
 |putPendingModel -------> getOrDefaultPendingItemModel |
 |getPendingModel                                       |
 |                                                      |
 |hasPendingBlockState                                  |
 |putPendingBlockState --> getOrDefaultPendingBlockState|
 |getPendingBlockState                                  |
 +------------------------------------------------------+
</pre></div>
    </div>
    <div class="links"></div>
</section>
</body>
</html>
